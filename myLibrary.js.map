{"version":3,"file":"myLibrary.js","sources":["../src/js/myLibrary.js"],"sourcesContent":["// library.js\r\n\r\nconst genresList = [\r\n  { id: 28, name: \"Aksiyon\" },\r\n  { id: 12, name: \"Macera\" },\r\n  { id: 16, name: \"Animasyon\" },\r\n  { id: 35, name: \"Komedi\" },\r\n  { id: 80, name: \"Suç\" },\r\n  { id: 99, name: \"Belgesel\" },\r\n  { id: 18, name: \"Dram\" },\r\n  { id: 10751, name: \"Aile\" },\r\n  { id: 14, name: \"Fantastik\" },\r\n  { id: 36, name: \"Tarih\" },\r\n  { id: 27, name: \"Korku\" },\r\n  { id: 10402, name: \"Müzik\" },\r\n  { id: 9648, name: \"Gizem\" },\r\n  { id: 10749, name: \"Romantik\" },\r\n  { id: 878, name: \"Bilim Kurgu\" },\r\n  { id: 10770, name: \"Televizyon\" },\r\n  { id: 53, name: \"Gerilim\" },\r\n  { id: 10752, name: \"Savaş\" },\r\n  { id: 37, name: \"Western\" },\r\n  { id: 38, name: \"Absürd\" },\r\n];\r\n\r\nwindow.onload = function () {\r\n  populateGenreDropdown();\r\n  loadLibraryMovies();\r\n\r\n  const genreSelect = document.querySelector(\".genreSelect\");\r\n  genreSelect?.addEventListener(\"change\", (e) => {\r\n    loadLibraryMovies(e.target.value);\r\n  });\r\n};\r\n\r\nfunction loadLibraryMovies(genreId = \"\") {\r\n  const catalog = document.querySelector(\".library-catalog\");\r\n  catalog.innerHTML = \"\";\r\n  let movieLibrary = JSON.parse(localStorage.getItem(\"movieLibrary\")) || [];\r\n\r\n  const filtered = genreId\r\n    ? movieLibrary.filter((m) => m.genre_ids.includes(parseInt(genreId)))\r\n    : movieLibrary;\r\n\r\n  if (filtered.length === 0) {\r\n    catalog.innerHTML = `<div class=\"no-results-message\"><p>OOPS...</p><p>Your library is empty..</p></div>`;\r\n    return;\r\n  }\r\n\r\n  filtered.forEach((movie) => {\r\n    const card = document.createElement(\"div\");\r\n    card.className = \"movie-card-library\";\r\n    card.dataset.movieId = movie.id;\r\n\r\n    card.innerHTML = `\r\n      <div class=\"image-container\">\r\n        <img src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\" alt=\"${\r\n      movie.title\r\n    }\">\r\n      </div>\r\n      <div class=\"movie-details-library\">\r\n        <div class=\"movie-name-library\">\r\n          <h3>${movie.title}</h3>\r\n          <p>${getGenres(movie.genre_ids).join(\", \")}</p>\r\n        </div>\r\n        <div class=\"stars\">${getStars(movie.vote_average)}</div>\r\n      </div>\r\n      <div class=\"delete-btn\">\r\n        <i class=\"fas fa-trash-alt\" title=\"Sil\"></i>\r\n      </div>\r\n    `;\r\n\r\n    card.querySelector(\".delete-btn\").addEventListener(\"click\", () => {\r\n      movieLibrary = movieLibrary.filter((m) => m.id !== movie.id);\r\n      localStorage.setItem(\"movieLibrary\", JSON.stringify(movieLibrary));\r\n      loadLibraryMovies(genreId);\r\n    });\r\n\r\n    catalog.appendChild(card);\r\n  });\r\n}\r\n\r\nfunction getStars(voteAverage) {\r\n  let stars = \"\";\r\n  let fullStars = Math.floor(voteAverage / 2);\r\n  for (let i = 0; i < 5; i++) {\r\n    stars +=\r\n      i < fullStars\r\n        ? `<span class=\"fa fa-star checked\"></span>`\r\n        : `<span class=\"fa fa-star\"></span>`;\r\n  }\r\n  return stars;\r\n}\r\n\r\nfunction getGenres(genreIds) {\r\n  return genreIds.map((id) => {\r\n    const genre = genresList.find((g) => g.id === id);\r\n    return genre ? genre.name : \"Bilinmiyor\";\r\n  });\r\n}\r\n\r\nfunction populateGenreDropdown() {\r\n  const select = document.querySelector(\".genreSelect\");\r\n  select.innerHTML = `<option value=\"\">All Genres</option>`;\r\n  genresList.forEach((genre) => {\r\n    const option = document.createElement(\"option\");\r\n    option.value = genre.id;\r\n    option.textContent = genre.name;\r\n    select.appendChild(option);\r\n  });\r\n}\r\n"],"names":["genresList","populateGenreDropdown","loadLibraryMovies","genreSelect","e","genreId","catalog","movieLibrary","filtered","m","movie","card","getGenres","getStars","voteAverage","stars","fullStars","i","genreIds","id","genre","g","select","option"],"mappings":"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"}